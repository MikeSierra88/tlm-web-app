<div class="btn-group buttons-container">
  <button class="btn btn-primary" (click)="nextStateButton(deleteWarningModal)">{{buttonText_ | async}}</button>
  <div class="btn-group" ngbDropdown container="body" role="group" aria-label="Order control menu">
    <button class="btn-primary dropdown-toggle-split" ngbDropdownToggle></button>
    <div class="dropdown-menu" ngbDropdownMenu>
      <button ngbDropdownItem *ngIf="order.status !== OrderStatus.CREATED" (click)="setStatus(OrderStatus.CREATED)">Mark new</button>
      <button ngbDropdownItem *ngIf="order.status !== OrderStatus.INVOICE_SENT" (click)="setStatus(OrderStatus.INVOICE_SENT)">Mark invoiced</button>
      <button ngbDropdownItem *ngIf="order.status !== OrderStatus.PAID" (click)="setStatus(OrderStatus.PAID)">Mark paid</button>
      <button ngbDropdownItem *ngIf="order.status !== OrderStatus.SHIPPED" (click)="setStatus(OrderStatus.SHIPPED)">Mark shipped</button>
      <div class="dropdown-divider"></div>
      <button ngbDropdownItem class="text-danger" *ngIf="order.status !== OrderStatus.ABANDONED" (click)="setStatus(OrderStatus.ABANDONED)">
        Mark abandoned
      </button>
      <div class="dropdown-divider"></div>
      <button ngbDropdownItem disabled>Edit</button>
      <button ngbDropdownItem class="text-danger" (click)="deleteWarning(deleteWarningModal)">Remove</button>
    </div>
  </div>
</div>

<ng-template #deleteWarningModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Confirm delete</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Are you sure you want to delete this order?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="modal.close('DELETE')">Delete</button>
    <button type="button" class="btn btn-outline-secondary" (click)="modal.close('CANCEL')">Cancel</button>
  </div>
</ng-template>
